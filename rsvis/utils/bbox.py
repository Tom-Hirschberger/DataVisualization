# ===========================================================================
#   bbox.py -----------------------------------------------------------------
# ===========================================================================

#   import ------------------------------------------------------------------
from rsvis.__init__ import _logger

import numpy as np
#   class -------------------------------------------------------------------
# ---------------------------------------------------------------------------
class BBox():

    #   method --------------------------------------------------------------
    # -----------------------------------------------------------------------
    def __init__(self):
        pass

    #   method --------------------------------------------------------------
    # -----------------------------------------------------------------------
    def corner2polyline(self, box):
        return [[box[2], box[0]], 
                [box[2], box[1]],
                [box[3], box[1]],
                [box[3], box[0]],
                [box[2], box[0]]]
    #   method --------------------------------------------------------------
    # -----------------------------------------------------------------------
    def polyline2corner(self, box):
        box_arr = np.array(box)
        box_min = np.min(box_arr, axis=0)
        box_max = np.max(box_arr, axis=0)
        return [box_min[1], box_max[1], box_min[0], box_max[0]]

    #   method --------------------------------------------------------------
    # -----------------------------------------------------------------------
    def get_polyline(self, box):
        dst = box
        if len(box)==4:
            dst = self.corner2polyline(box)
        return dst
        
    #   method --------------------------------------------------------------
    # -----------------------------------------------------------------------
    def get_corner(self, box):
        dst = box
        if len(box)!=4:
            dst = self.polyline2corner(box)
        return dst
        

    
